<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de InterseÃ§Ã£o Ã  Vante - Topografia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState } = React;

        const IntersecaoVanteRelatorio = () => {
            const [pontos, setPontos] = useState([
                {
                    id: 1,
                    nome: 'L2',
                    xA: '293109.076474',
                    yA: '9210945.891067',
                    nomeA: 'M0',
                    xB: '293189.109326',
                    yB: '9210923.173231',
                    nomeB: 'M1',
                    dhAP: '324.475278',
                    dhBP: '13.485000',
                    resultado: null
                }
            ]);

            const [pontoAtivo, setPontoAtivo] = useState(0);

            const adicionarPonto = () => {
                const novoPonto = {
                    id: pontos.length + 1,
                    nome: `Ponto ${pontos.length + 1}`,
                    xA: pontos[pontoAtivo].xA,
                    yA: pontos[pontoAtivo].yA,
                    nomeA: pontos[pontoAtivo].nomeA,
                    xB: pontos[pontoAtivo].xB,
                    yB: pontos[pontoAtivo].yB,
                    nomeB: pontos[pontoAtivo].nomeB,
                    dhAP: '',
                    dhBP: '',
                    resultado: null
                };
                setPontos([...pontos, novoPonto]);
                setPontoAtivo(pontos.length);
            };

            const removerPonto = (index) => {
                if (pontos.length > 1) {
                    const novosPontos = pontos.filter((_, i) => i !== index);
                    setPontos(novosPontos);
                    setPontoAtivo(Math.max(0, index - 1));
                }
            };

            const atualizarPonto = (campo, valor) => {
                const novosPontos = [...pontos];
                novosPontos[pontoAtivo][campo] = valor;
                setPontos(novosPontos);
            };

           const calcular = () => {
    const p = pontos[pontoAtivo];

    // Dados de entrada
    const xA = parseFloat(p.xA);
    const yA = parseFloat(p.yA);
    const xB = parseFloat(p.xB);
    const yB = parseFloat(p.yB);
    const dhAP = parseFloat(p.dhAP);
    const dhBP = parseFloat(p.dhBP);

    // Vetor AB
    const deltaX_AB = xB - xA;
    const deltaY_AB = yB - yA;

    // Azimute AB
    let azAB = Math.atan2(deltaX_AB, deltaY_AB) * 180 / Math.PI;
    if (azAB < 0) azAB += 360;

    const dAB = Math.sqrt(deltaX_AB ** 2 + deltaY_AB ** 2);

    // Azimutes das direÃ§Ãµes observadas
    let azAP = azAB + dhAP;
    if (azAP >= 360) azAP -= 360;

    let azBA = azAB + 180;
    if (azBA >= 360) azBA -= 360;

    let azBP = azBA + dhBP;
    if (azBP >= 360) azBP -= 360;

    // ConversÃ£o para radianos
    const azAP_rad = azAP * Math.PI / 180;
    const azBP_rad = azBP * Math.PI / 180;

    const senA = Math.sin(azAP_rad);
    const cosA = Math.cos(azAP_rad);
    const senB = Math.sin(azBP_rad);
    const cosB = Math.cos(azBP_rad);

    // InterseÃ§Ã£o das retas
    const denom = (senA * cosB - cosA * senB);

    if (Math.abs(denom) < 1e-10) {
        alert("DireÃ§Ãµes praticamente paralelas. InterseÃ§Ã£o impossÃ­vel.");
        return;
    }

    const t = ((xB - xA) * cosB - (yB - yA) * senB) / denom;

    // Coordenadas do ponto P (interseÃ§Ã£o matemÃ¡tica)
    const xP = xA + t * senA;
    const yP = yA + t * cosA;

    // ==============================
    // ERRO TOPOGRÃFICO (RESÃDUOS)
    // ==============================

    // EquaÃ§Ãµes gerais das retas
    // reta A: aA*x + bA*y + cA = 0
    const aA = cosA;
    const bA = -senA;
    const cA = -(aA * xA + bA * yA);

    // reta B: aB*x + bB*y + cB = 0
    const aB = cosB;
    const bB = -senB;
    const cB = -(aB * xB + bB * yB);

    // ResÃ­duos (distÃ¢ncia pontoâ€“reta)
    const rA = Math.abs(aA * xP + bA * yP + cA) / Math.sqrt(aA ** 2 + bA ** 2);
    const rB = Math.abs(aB * xP + bB * yP + cB) / Math.sqrt(aB ** 2 + bB ** 2);

    // Erro linear topogrÃ¡fico
    const erro_linear = Math.sqrt(rA ** 2 + rB ** 2);

    // Resultado final
    const resultado = {
        deltaX_AB,
        deltaY_AB,
        azAB,
        dAB,
        azAP,
        azBA,
        azBP,
        xP,
        yP,
        rA,
        rB,
        erro_linear
    };

    const novosPontos = [...pontos];
    novosPontos[pontoAtivo].resultado = resultado;
    setPontos(novosPontos);
};



            const copiarRelatorio = () => {
                const p = pontos[pontoAtivo];
                const r = p.resultado;
                
                const texto = `RELATÃ“RIO TÃ‰CNICO - INTERSEÃ‡ÃƒO Ã€ VANTE
Ponto: ${p.nome}
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. DADOS DE ENTRADA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
EstaÃ§Ã£o A (${p.nomeA}):  X = ${p.xA} m,  Y = ${p.yA} m
EstaÃ§Ã£o B (${p.nomeB}):  X = ${p.xB} m,  Y = ${p.yB} m
DireÃ§Ã£o Horizontal Aâ†’P: ${p.dhAP}Â°
DireÃ§Ã£o Horizontal Bâ†’P: ${p.dhBP}Â°

2. CÃLCULO DE AZIMUTE E DISTÃ‚NCIA AB
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î”X_AB = ${r.deltaX_AB.toFixed(6)} m
Î”Y_AB = ${r.deltaY_AB.toFixed(6)} m
Az_AB = ${r.azAB.toFixed(6)}Â°
DistÃ¢ncia AB = ${r.dAB.toFixed(6)} m

3. AZIMUTES PARA O PONTO P
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Az_AP = Az_AB + DH_A = ${r.azAP.toFixed(6)}Â°
Az_BA = Az_AB + 180Â° = ${r.azBA.toFixed(6)}Â°
Az_BP = Az_BA + DH_B = ${r.azBP.toFixed(6)}Â°

4. Ã‚NGULOS INTERNOS DO TRIÃ‚NGULO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ã‚ngulo em A = ${r.angA.toFixed(6)}Â°
Ã‚ngulo em B = ${r.angB.toFixed(6)}Â°
Ã‚ngulo em P = ${r.angP.toFixed(6)}Â°
Soma = ${r.somaAngulos.toFixed(6)}Â° (deve ser 180Â°)

5. DISTÃ‚NCIAS (LEI DOS SENOS)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
DistÃ¢ncia AP = ${r.dAP.toFixed(6)} m
DistÃ¢ncia BP = ${r.dBP.toFixed(6)} m

6. COORDENADAS DO PONTO P
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Calculado de A:  X = ${r.xP_A.toFixed(6)} m,  Y = ${r.yP_A.toFixed(6)} m
Calculado de B:  X = ${r.xP_B.toFixed(6)} m,  Y = ${r.yP_B.toFixed(6)} m

7. ERRO DE FECHAMENTO
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Î”X = ${r.erro_x.toFixed(6)} m
Î”Y = ${r.erro_y.toFixed(6)} m
Erro Linear = ${r.erro_linear.toFixed(6)} m = ${(r.erro_linear * 1000).toFixed(3)} mm

8. RESULTADO FINAL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ponto ${p.nome}:  X = ${r.xP_A.toFixed(6)} m,  Y = ${r.yP_A.toFixed(6)} m
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`;
                
                navigator.clipboard.writeText(texto);
                alert('RelatÃ³rio copiado para a Ã¡rea de transferÃªncia!');
            };

            const pontoAtual = pontos[pontoAtivo];
            const r = pontoAtual?.resultado;

            return (
                <div className="max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen">
                    <div className="bg-white rounded-lg shadow-lg p-6">
                        <div className="flex items-center justify-between mb-6 flex-wrap gap-4">
                            <div className="flex items-center gap-3">
                                <svg className="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
                                </svg>
                                <h1 className="text-2xl font-bold text-gray-800">
                                    InterseÃ§Ã£o Ã  Vante - Metodologia Completa
                                </h1>
                            </div>
                            <button
                                onClick={adicionarPonto}
                                className="flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"
                            >
                                <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" />
                                </svg>
                                Novo Ponto
                            </button>
                        </div>

                        {/* Abas de pontos */}
                        <div className="flex gap-2 mb-6 overflow-x-auto pb-2">
                            {pontos.map((ponto, index) => (
                                <div key={ponto.id} className="flex items-center gap-1">
                                    <button
                                        onClick={() => setPontoAtivo(index)}
                                        className={`px-4 py-2 rounded-t-lg font-medium transition ${
                                            pontoAtivo === index
                                                ? 'bg-blue-600 text-white'
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`}
                                    >
                                        {ponto.nome}
                                    </button>
                                    {pontos.length > 1 && (
                                        <button
                                            onClick={() => removerPonto(index)}
                                            className="p-1 text-red-600 hover:bg-red-100 rounded"
                                        >
                                            <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                            </svg>
                                        </button>
                                    )}
                                </div>
                            ))}
                        </div>

                        {/* FormulÃ¡rio de entrada */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            {/* IdentificaÃ§Ã£o */}
                            <div className="md:col-span-2 bg-purple-50 p-4 rounded-lg">
                                <h3 className="font-bold text-purple-900 mb-3">IdentificaÃ§Ã£o do Ponto</h3>
                                <input
                                    type="text"
                                    value={pontoAtual.nome}
                                    onChange={(e) => atualizarPonto('nome', e.target.value)}
                                    className="w-full p-2 border rounded"
                                    placeholder="Nome do ponto (ex: L2, P1, etc.)"
                                />
                            </div>

                            {/* EstaÃ§Ã£o A */}
                            <div className="bg-blue-50 p-4 rounded-lg">
                                <h3 className="font-bold text-blue-900 mb-3">EstaÃ§Ã£o A</h3>
                                <div className="space-y-2">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Nome</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.nomeA}
                                            onChange={(e) => atualizarPonto('nomeA', e.target.value)}
                                            className="w-full p-2 border rounded"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">X (m)</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.xA}
                                            onChange={(e) => atualizarPonto('xA', e.target.value)}
                                            className="w-full p-2 border rounded"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Y (m)</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.yA}
                                            onChange={(e) => atualizarPonto('yA', e.target.value)}
                                            className="w-full p-2 border rounded"
                                        />
                                    </div>
                                </div>
                            </div>

                            {/* EstaÃ§Ã£o B */}
                            <div className="bg-green-50 p-4 rounded-lg">
                                <h3 className="font-bold text-green-900 mb-3">EstaÃ§Ã£o B</h3>
                                <div className="space-y-2">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Nome</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.nomeB}
                                            onChange={(e) => atualizarPonto('nomeB', e.target.value)}
                                            className="w-full p-2 border rounded"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">X (m)</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.xB}
                                            onChange={(e) => atualizarPonto('xB', e.target.value)}
                                            className="w-full p-2 border rounded"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">Y (m)</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.yB}
                                            onChange={(e) => atualizarPonto('yB', e.target.value)}
                                            className="w-full p-2 border rounded"
                                        />
                                    </div>
                                </div>
                            </div>

                            {/* DireÃ§Ãµes Horizontais */}
                            <div className="md:col-span-2 bg-yellow-50 p-4 rounded-lg">
                                <h3 className="font-bold text-yellow-900 mb-3">DireÃ§Ãµes Horizontais Observadas (graus decimais)</h3>
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-medium mb-1">DH de A para P (Â°)</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.dhAP}
                                            onChange={(e) => atualizarPonto('dhAP', e.target.value)}
                                            className="w-full p-2 border rounded"
                                            placeholder="324.475278"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-medium mb-1">DH de B para P (Â°)</label>
                                        <input
                                            type="text"
                                            value={pontoAtual.dhBP}
                                            onChange={(e) => atualizarPonto('dhBP', e.target.value)}
                                            className="w-full p-2 border rounded"
                                            placeholder="13.485000"
                                        />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button
                            onClick={calcular}
                            className="w-full bg-blue-600 text-white py-3 rounded-lg font-bold hover:bg-blue-700 transition mb-6"
                        >
                            CALCULAR COORDENADAS
                        </button>

                        {/* Resultados */}
                        {r && (
                            <div className="space-y-4">
                                <div className="flex items-center justify-between mb-4 flex-wrap gap-4">
                                    <h2 className="text-xl font-bold text-gray-800">RelatÃ³rio TÃ©cnico</h2>
                                    <button
                                        onClick={copiarRelatorio}
                                        className="flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700"
                                    >
                                        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                        </svg>
                                        Copiar RelatÃ³rio
                                    </button>
                                </div>

                                {/* Passo 3 */}
                                <div className="p-4 bg-blue-50 rounded-lg">
                                    <h3 className="font-bold text-blue-900 mb-2">PASSO 3: Azimute e DistÃ¢ncia entre A e B</h3>
                                    <div className="grid grid-cols-2 gap-4 text-sm">
                                        <div><span className="font-medium">Î”X_AB:</span> {r.deltaX_AB.toFixed(6)} m</div>
                                        <div><span className="font-medium">Î”Y_AB:</span> {r.deltaY_AB.toFixed(6)} m</div>
                                        <div><span className="font-medium">Az_AB:</span> {r.azAB.toFixed(6)}Â°</div>
                                        <div><span className="font-medium">DistÃ¢ncia AB:</span> {r.dAB.toFixed(6)} m</div>
                                    </div>
                                </div>

                                {/* Passo 4 */}
                                <div className="p-4 bg-green-50 rounded-lg">
                                    <h3 className="font-bold text-green-900 mb-2">PASSO 4: Azimutes para o Ponto P</h3>
                                    <div className="grid grid-cols-3 gap-4 text-sm">
                                        <div><span className="font-medium">Az_AP:</span> {r.azAP.toFixed(6)}Â°</div>
                                        <div><span className="font-medium">Az_BA:</span> {r.azBA.toFixed(6)}Â°</div>
                                        <div><span className="font-medium">Az_BP:</span> {r.azBP.toFixed(6)}Â°</div>
                                    </div>
                                </div>

                                {/* Passo 5 */}
                                <div className="p-4 bg-yellow-50 rounded-lg">
                                    <h3 className="font-bold text-yellow-900 mb-2">PASSO 5: Ã‚ngulos Internos do TriÃ¢ngulo</h3>
                                    <div className="grid grid-cols-2 gap-4 text-sm">
                                        <div><span className="font-medium">Ã‚ngulo em A:</span> {r.angA.toFixed(6)}Â°</div>
                                        <div><span className="font-medium">Ã‚ngulo em B:</span> {r.angB.toFixed(6)}Â°</div>
                                        <div><span className="font-medium">Ã‚ngulo em P:</span> {r.angP.toFixed(6)}Â°</div>
                                        <div><span className="font-medium">Soma:</span> {r.somaAngulos.toFixed(6)}Â°</div>
                                    </div>
                                </div>

                                {/* Passo 6 */}
                                <div className="p-4 bg-purple-50 rounded-lg">
                                    <h3 className="font-bold text-purple-900 mb-2">PASSO 6: DistÃ¢ncias (Lei dos Senos)</h3>
                                    <div className="grid grid-cols-2 gap-4 text-sm">
                                        <div><span className="font-medium">DistÃ¢ncia AP:</span> {r.dAP.toFixed(6)} m</div>
                                        <div><span className="font-medium">DistÃ¢ncia BP:</span> {r.dBP.toFixed(6)} m</div>
                                    </div>
                                </div>

                                {/* Passo 7 */}
                                <div className="p-4 bg-red-50 rounded-lg border-2 border-red-300">
                                    <h3 className="font-bold text-red-900 mb-2">PASSO 7: COORDENADAS DO PONTO P</h3>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div className="bg-white p-3 rounded">
                                            <p className="text-sm font-medium mb-1">Calculado de A:</p>
                                            <p className="text-lg font-bold text-blue-600">X = {r.xP_A.toFixed(6)} m</p>
                                            <p className="text-lg font-bold text-blue-600">Y = {r.yP_A.toFixed(6)} m</p>
                                        </div>
                                        <div className="bg-white p-3 rounded">
                                            <p className="text-sm font-medium mb-1">VerificaÃ§Ã£o de B:</p>
                                            <p className="text-lg font-bold text-green-600">X = {r.xP_B.toFixed(6)} m</p>
                                            <p className="text-lg font-bold text-green-600">Y = {r.yP_B.toFixed(6)} m</p>
                                        </div>
                                    </div>
                                </div>

                                {/* Erro */}
                                <div className="p-4 bg-gray-100 rounded-lg">
                                    <h3 className="font-bold text-gray-900 mb-2">Erro de Fechamento</h3>
                                    <div className="grid grid-cols-3 gap-4 text-sm">
                                        <div>
                                            <span className="font-medium">Î”X:</span> {r.erro_x.toFixed(6)} m
                                            <br/><span className="text-xs">({(r.erro_x * 1000).toFixed(3)} mm)</span>
                                        </div>
                                        <div>
                                            <span className="font-medium">Î”Y:</span> {r.erro_y.toFixed(6)} m
                                            <br/><span className="text-xs">({(r.erro_y * 1000).toFixed(3)} mm)</span>
                                        </div>
                                        <div>
                                            <span className="font-medium">Erro Linear:</span> {r.erro_linear.toFixed(6)} m
                                            <br/><span className={`text-xs font-bold ${r.erro_linear < 0.001 ? 'text-green-600' : r.erro_linear < 0.01 ? 'text-yellow-600' : 'text-red-600'}`}>
                                                ({(r.erro_linear * 1000).toFixed(3)} mm)
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                {/* Resultado Final */}
                                <div className="p-6 bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-lg">
                                    <h3 className="font-bold text-xl mb-3">RESULTADO FINAL - Ponto {pontoAtual.nome}</h3>
                                    <div className="text-2xl font-bold">
                                        <p>X = {r.xP_A.toFixed(6)} m</p>
                                        <p>Y = {r.yP_A.toFixed(6)} m</p>
                                    </div>
                                    <p className="text-sm mt-2 opacity-90">Erro: {(r.erro_linear * 1000).toFixed(3)} mm</p>
                                </div>
                            </div>
                        )}

                        {/* Metodologia */}
                        <div className="mt-8 p-4 bg-gray-100 rounded-lg text-sm">
                            <h3 className="font-bold mb-2">ğŸ“‹ Metodologia - InterseÃ§Ã£o Ã  Vante</h3>
                            <p className="mb-2">Esta calculadora segue a metodologia do relatÃ³rio tÃ©cnico:</p>
                            <ol className="list-decimal list-inside space-y-1 text-gray-700">
                                <li>Entrada de coordenadas das estaÃ§Ãµes A e B conhecidas</li>
                                <li>Entrada das direÃ§Ãµes horizontais observadas (em graus decimais)</li>
                                <li>CÃ¡lculo do azimute e distÃ¢ncia entre A e B</li>
                                <li>CÃ¡lculo dos azimutes Aâ†’P e Bâ†’P</li>
                                <li>DeterminaÃ§Ã£o dos Ã¢ngulos internos do triÃ¢ngulo ABP</li>
                                <li>AplicaÃ§Ã£o da Lei dos Senos para distÃ¢ncias AP e BP</li>
                                <li>CÃ¡lculo das coordenadas de P usando ambas estaÃ§Ãµes</li>
                                <li>VerificaÃ§Ã£o do erro de fechamento</li>
                            </ol>
                        </div>

                        {/* Footer */}
                        <div className="mt-8 pt-6 border-t text-center text-sm text-gray-600">
                            <p>Calculadora de InterseÃ§Ã£o Ã  Vante - Topografia para Engenharia</p>
                            <p className="mt-1">Desenvolvido para levantamentos topogrÃ¡ficos de precisÃ£o</p>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<IntersecaoVanteRelatorio />);
    </script>
</body>
</html>
